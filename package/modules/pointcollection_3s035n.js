/**/_jsload2&&_jsload2('pointcollection', 'x.extend(wd.prototype,{za:function(a){var b=this;b.map=this.P=a;b.zc=document.createElement("canvas");b.zc.style.cssText="position: absolute; left: 0; top: 0;";b.ca=b.zc;a=b.map.wb();b.zc.width=a.width;b.zc.height=a.height;b.zc.id="myCanvasElement";b.map.Zf().Mt.appendChild(b.zc);b.Oy=new ph;b.qi();b.map.addEventListener("click",function(a){a=qh(b.Oy,a.offsetX,a.offsetY);a!==s&&b.dispatchEvent("click",{point:a.point})});b.fl=s;b.map.addEventListener("mousemove",function(a){for(var e=b.map.Cx(),f= e.length,g=s,i=0;i<f&&!(e[i]instanceof A.PointCollection&&(g=qh(e[i].Oy,a.offsetX,a.offsetY),g!==s));i++);g===s?(b.fl!==s&&(b.dispatchEvent("mouseout",{point:b.fl.point}),b.fl=s),b.zc.style.cursor=""):(b.fl===s?(b.dispatchEvent("mouseover",{point:g.point}),b.fl=g):b.fl!==g&&(b.dispatchEvent("mouseout",{point:b.fl.point}),b.dispatchEvent("mouseover",{point:g.point}),b.fl=g),b.zc.style.cursor="pointer")});return b.zc},qi:function(){this.Oy.data.CF=[];var a=this.map.wb();this.zc.width=a.width;this.zc.height= a.height;this.zc.style.left=this.map.Fe.style.left;this.zc.style.top=this.map.Fe.style.top;if(this.ia.ja&&this.ia.ja.length){this.zc.getContext("2d").clearRect(0,0,this.zc.width,this.zc.height);-1!==document.location.href.indexOf(".local")&&(console&&console.time)&&console.time("\\u904d\\u5386\\u7ed8\\u5236\\u9ebb\\u70b9");this.zc.getContext("2d").beginPath();for(var b=0,c;c=this.ia.ja[b];b++){var e=this.map.vc(c);if(!(0>e.x||0>e.y||e.x>a.width||e.y>a.height)){var f;switch(this.K.shape){case 1:f=new rh; break;case 2:f=new sh;break;case 4:f=new th;break;case 5:f=new uh;break;case td:f=new vh;break;default:f=new vh}switch(this.K.size){case 1:("circle"===f.type||"star"===f.type)&&f.Bf(1);if("rectangle"===f.type||"rhombus"===f.type)f.Kh(2),f.Jh(2);break;case 2:("circle"===f.type||"star"===f.type)&&f.Bf(2);if("rectangle"===f.type||"rhombus"===f.type)f.Kh(4),f.Jh(4);break;case 3:("circle"===f.type||"star"===f.type)&&f.Bf(4);if("rectangle"===f.type||"rhombus"===f.type)f.Kh(8),f.Jh(8);break;case ud:("circle"=== f.type||"star"===f.type)&&f.Bf(5);if("rectangle"===f.type||"rhombus"===f.type)f.Kh(10),f.Jh(10);break;case 5:("circle"===f.type||"star"===f.type)&&f.Bf(8);if("rectangle"===f.type||"rhombus"===f.type)f.Kh(16),f.Jh(16);break;case 6:("circle"===f.type||"star"===f.type)&&f.Bf(10);if("rectangle"===f.type||"rhombus"===f.type)f.Kh(20),f.Jh(20);break;case 7:("circle"===f.type||"star"===f.type)&&f.Bf(15);if("rectangle"===f.type||"rhombus"===f.type)f.Kh(30),f.Jh(30);break;default:if(("circle"===f.type||"star"=== f.type)&&f.Bf(5),"rectangle"===f.type||"rhombus"===f.type)f.Kh(10),f.Jh(10)}this.K.color&&("circle"===f.type||"star"===f.type||"rectangle"===f.type||"rhombus"===f.type)&&f.cl(this.K.color);f.gp(this.zc.getContext("2d"),e.x,e.y);f.point=c;this.Oy.data.CF.push(f)}}this.zc.getContext("2d").fillStyle=this.K.color;this.zc.getContext("2d").fill();-1!==document.location.href.indexOf(".local")&&(console&&console.timeEnd)&&console.timeEnd("\\u904d\\u5386\\u7ed8\\u5236\\u9ebb\\u70b9")}},d0:function(a){this.ia.ja= a;this.qi()},Ki:function(a){a.color&&(this.K.color=a.color);a.size&&(this.K.size=a.size);a.shape&&(this.K.shape=a.shape);this.qi()},clear:function(){this.ia.ja=[];this.qi()},remove:function(){this.clear();this.zc&&this.zc.parentNode&&this.zc.parentNode.removeChild(this.zc);this.dispatchEvent(new O("onremove"))}});wd.prototype.initialize=wd.prototype.za;wd.prototype.draw=wd.prototype.qi;wd.prototype.setPoints=wd.prototype.d0;wd.prototype.setStyles=wd.prototype.Ki;wd.prototype.clear=wd.prototype.clear; wd.prototype.remove=wd.prototype.remove;function ph(){this.data={CF:[]}}function qh(a,b,c){for(var e=0,f;f=a.data.CF[e];e++)if(f.Nk(),b>f.position.x-f.Cp()/2&&b<f.position.x+f.Cp()/2&&c>f.position.y-f.Nk()/2&&c<f.position.y+f.Nk()/2)return f;return s}function sh(){this.type="waterdrop";this.position={x:0,y:0}}var wh=document.createElement("img"),xh=t;wh.onload=function(){xh=q};wh.src=A.pa+"images/point-collection/red-marker-10x13.png";var yh=document.createElement("img");yh.onload=ca(); yh.src=A.pa+"images/point-collection/blue-marke-15x16.png";sh.prototype.gp=function(a,b,c){var e=this;xh===t?setTimeout(function(){e.gp(a,b,c)},10):(e.k3=a,e.position.x=b,e.position.y=c,a.save(),a.translate(b-wh.width/2,c-wh.height/2),a.drawImage(wh,0,0,wh.width,wh.height,0,0,wh.width,wh.height),a.restore())};sh.prototype.ma=u("position");sh.prototype.Cp=function(){return wh.width};sh.prototype.Nk=function(){return wh.height}; function vh(a){this.type="circle";a=a||{};this.M={Fa:a.radius||10,color:a.color||"#fa937e"};this.position={x:0,y:0}}ga=vh.prototype;ga.gp=function(a,b,c){this.position.x=b;this.position.y=c;a.save();a.translate(b,c);a.beginPath();a.fillStyle=this.M.color;a.arc(0,0,this.M.Fa,0,2*Math.PI,t);a.fill();a.restore()};ga.Bf=function(a){this.M.Fa=a};ga.JL=function(){return this.M.Fa};ga.cl=function(a){this.M.color=a};ga.ma=u("position");ga.Cp=function(){return 2*this.M.Fa};ga.Nk=function(){return 2*this.M.Fa}; function rh(a){this.type="star";a=a||{};this.M={Fa:a.radius||10,YE:a.pointsNumber||5,nX:a.fraction||0.4,color:a.color||"#fa937e"};this.position={x:0,y:0}}ga=rh.prototype;ga.gp=function(a,b,c){this.position.x=b;this.position.y=c;a.save();a.fillStyle=this.M.color;a.beginPath();a.translate(b,c);a.moveTo(0,0-this.M.Fa);for(b=0;b<this.M.YE;b++)a.rotate(Math.PI/this.M.YE),a.lineTo(0,0-this.M.Fa*this.M.nX),a.rotate(Math.PI/this.M.YE),a.lineTo(0,0-this.M.Fa);a.fill();a.restore()}; ga.Bf=function(a){this.M.Fa=a};ga.cl=function(a){this.M.color=a};ga.ma=u("position");ga.Cp=function(){return 2*this.M.Fa};ga.Nk=function(){return 2*this.M.Fa};function th(a){this.type="rectangle";a=a||{};this.M={width:a.width||10,height:a.height||10,color:a.color||"#fa937e"};this.position={x:0,y:0}}ga=th.prototype;ga.gp=function(a,b,c){this.position.x=b;this.position.y=c;a.save();a.translate(b-this.M.width/2,c-this.M.height/2);a.fillStyle=this.M.color;a.fillRect(0,0,this.M.width,this.M.height);a.restore()}; ga.Kh=function(a){this.M.width=a};ga.Cp=function(){return this.M.width};ga.Jh=function(a){this.M.height=a};ga.Nk=function(){return this.M.height};ga.cl=function(a){this.M.color=a};ga.ma=u("position");function uh(a){this.type="rhombus";a=a||{};this.M={width:a.width||10,height:a.height||10,color:a.color||"#fa937e"};this.position={x:0,y:0}}ga=uh.prototype; ga.gp=function(a,b,c){this.position.x=b;this.position.y=c;a.save();a.fillStyle=this.M.color;a.translate(b-this.M.width/2,c-this.M.height/2);a.beginPath();a.moveTo(0+0.5*this.M.width,0);a.lineTo(0,0+0.5*this.M.height);a.lineTo(0+0.5*this.M.width,0+this.M.height);a.lineTo(0+this.M.width,0+0.5*this.M.height);a.lineTo(0+0.5*this.M.width,0);a.closePath();a.fill();a.restore()};ga.Kh=function(a){this.M.width=a};ga.Cp=function(){return this.M.width};ga.Jh=function(a){this.M.height=a};ga.Nk=function(){return this.M.height}; ga.cl=function(a){this.M.color=a};ga.ma=u("position"); ');