/**/_jsload2&&_jsload2('hotspot', 'A.df(function(a){function b(){}function c(){}function e(a){var b=this.ba;b.xe=[];if(this.Uh)for(var c in this.Uh)if(!(0==c.indexOf("vector_")&&!this.Vd()||0==c.indexOf("tile_")&&this.Vd())){var e=this.Uh[c],f;for(f in e){var g=e[f];if(!(g.Wh>this.la()||g.Pf<this.la())){var i=this.uo(g.ma());i.x<this.width&&i.y<this.height&&a.offsetX<i.x+g.Qv[1]&&(a.offsetX>i.x-g.Qv[3]&&a.offsetY>i.y-g.Qv[0]&&a.offsetY<i.y+g.Qv[2])&&b.xe.push(g)}}}}function f(b){if(b.point){var c=a.la(),e=a.ya().Aj().Lg(b.point),f= new Q(Math.floor(e.x*Math.pow(2,c-18)),Math.floor(e.y*Math.pow(2,c-18))),i=a.Id.le(c),e=a.TL(b.point,c),w=a.da.replace(/^TANGRAM_/,""),y=e.ln,z=e.vs,e=f.x-y*i,f=i-(f.y-z*i),w=a.Wi[w+"_"+y+"_"+z+"_"+a.Id.rp(c)+"_"+c],c=[];if(w){for(var B in w.polygon)g([e,f],w.polygon[B].HF)&&c.push(w.polygon[B]);for(B in w.polyline){for(var D=[e,f],y=w.polyline[B].HF,i=5+w.polyline[B].style[0].hL,z=D[0],D=D[1],G=t,E=0,C=y.length-3;E<C;E+=2){var H;var I=y[E];H=y[E+1];var N=y[E+2],T=y[E+3],ea=I-N,ba=H-T,ea=ea*ea+ba* ba;ea>k?(ba=((H-D)*(H-T)-(I-z)*(N-I))/ea,1<ba||0>ba?(I=z-I,N=z-N,H=D-H,T=D-T,H=I*I+H*H,T=N*N+T*T,H=H<T?Math.sqrt(H):Math.sqrt(T)):H=Math.abs(((H-D)*-(I-N)-(I-z)*(T-H))/Math.sqrt(ea))):(T=z-I,H=D-H,H=Math.sqrt(T*T+H*H));if(i>H){G=q;break}}G&&c.push(w.polyline[B])}}e=a.Wi.h_;b=a.vc(b.point);if(e)for(B in e.polygon)g([b.x,b.y],e.polygon[B].HF)&&c.push(e.U5[B]);return c}}function g(a,b){for(var c=a[0],e=a[1],f=t,g=0,i=b.length-2;g<b.length;g+=2){var k=b[g],B=b[g+1],D=b[i],i=b[i+1];B>e!==i>e&&c<(D-k)* (e-B)/(i-B)+k&&(f=!f);i=g}return f}function i(){a.ba.OK&&0<a.ba.xe.length?(a.platform.style.cursor="pointer",a.ba.OK=t):(a.ba.xe=[],a.platform.style.cursor=a.M.Ac)}a.ba.tu=new rd("",{Ga:new M(15,-3),oq:{border:"1px solid #aaa",background:"#fffec2",whiteSpace:"nowrap",font:"12px "+J.fontFamily,mozBoxShadow:"1px 2px 6px #666",webkitBoxShadow:"1px 2px 6px #666",boxShadow:"1px 2px 6px #666",padding:"2px 4px"}});if(!a.M||!a.M.Dt){var k=0.01;a.addEventListener("movestart",b);a.addEventListener("moveend", c);a.addEventListener("zoomstart",b);a.addEventListener("zoomend",function(){setTimeout(c,30)});a.addEventListener("mousemove",function(b){if(!(b.yb&&!(b.yb instanceof ld)||b.Fb)){var c=this.ba,f=c.xe.slice(0);e.call(this,b);for(var g=c.xe.slice(0),i=0;i<f.length;i++)for(var k=0;k<g.length;k++)f[i]===g[k]&&(f.splice(i,1),i--,g.splice(k,1),k--);if(0<f.length){var y=new O("onhotspotout");y.spots=f.slice(0);this.dispatchEvent(y)}if(0==c.xe.length&&!c.g5)this.platform.style.cursor!=this.M.Ac&&(this.platform.style.cursor= this.M.Ac),c.mq&&(clearTimeout(c.mq),c.mq=s),c.JF=setTimeout(function(){c.tu.aa()},400);else if(0<g.length&&(this.platform.style.cursor="pointer",y=new O("onhotspotover"),y.spots=g.slice(0),this.dispatchEvent(y),c.mq&&(clearTimeout(c.mq),c.mq=s),c.JF&&(clearTimeout(c.JF),c.JF=s),y.spots[0].ZD()))c.mq=setTimeout(function(){c.tu.Pc(y.spots[0].ZD());c.tu.va(b.point);c.tu.show();a.Ra(c.tu)},400)}});a.addEventListener("clickex",function(a){var b=this.ba;a.overlay||(0==b.xe.length&&e.call(this,a),0<b.xe.length&& (a=new O("onhotspotclick"),a.spots=b.xe.slice(0),a.spots.sort(function(a,b){return a.ma().lat-b.ma().lat}),this.dispatchEvent(a),b.xe.length=0))});a.addEventListener("rightclickex",function(a){if(this.M.Fk||this.M.bp){var b=this.ba;if(!a.overlay&&a.point){var c=[];if(0<b.xe.length){var e=b.xe.slice(0);e.sort(function(a,b){return a.ma().lat-b.ma().lat});for(var g in e)c.push(e[g].NB);b.xe.length=0}b=f(a);c=c.concat(b);b=[];for(g in c)0>b.indexOf(c[g].Yb)&&b.push(c[g].Yb);g=new O("onhotspotrightclick"); g.styles=c;g.styleIds=b;g.point=a.point;this.dispatchEvent(g)}}});a.addEventListener("load",i);a.addEventListener("moveend",i);a.addEventListener("zoomend",i);a.addEventListener("dragend",function(){this.ba.OK=q})}}); ');